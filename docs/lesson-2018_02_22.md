# Cours du 22/02/2018

## Requête préparée de sélection des clients avec condition, limit et offset

```
$requeteClient = "select * from clients limit
where nom like :nom :limit offset :offset";

$clientSth = $connexion->prepare($requeteClient);

$clientSth->bindValue(':search',  "%" . $search. "%");
$clientSth->bindParam('limit', $limit, \PDO::PARAM_INT);
$clientSth->bindParam('offset', $offset, \PDO::PARAM_INT);

$clientSth->execute();
```

Création de la requête avec des `noms` (:nom, :limit et :offset), on peut aussi remplacer ces noms par des `marqueurs` (?)
### Requête avec des noms
```
$requeteClient = "select * from clients limit where nom like :nom limit :limit offset :offset";
$clientSth = $connexion->prepare($requeteClient);
```
### Requête avec des marqueurs
```
$requeteClient = "select * from clients limit
where nom like ? limit ? offset ?";
$clientSth = $connexion->prepare($requeteClient);
```

## Liaison des variables php aux marqueurs/noms

```
$clientSth->bindValue(':search',  "%" . $search. "%");
$clientSth->bindParam('limit', $limit, \PDO::PARAM_INT);
$clientSth->bindParam('offset', $offset, \PDO::PARAM_INT);
```


## Les plus hors scope du cours
