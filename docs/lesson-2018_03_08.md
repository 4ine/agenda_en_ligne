# Cours du 08/03/2018

## Requête préparée : insérer un enregistrement
Ci-dessous le code qui va permettre d'ajouter un enregistrement dans la table `clients`

```php
$requeteInsertClient = "insert into clients (nom, prenom, genre, date_de_naissance, email, telephone)
values (:nom, :prenom, :genre, :date_de_naissance, :email, :telephone)";
$insertClientSth = $connexion->prepare($requeteInsertClient);
$insertClientSth->bindParam('nom', 'Andrew');
$insertClientSth->bindParam('prenom', 'Simon');
$insertClientSth->bindParam('genre', 1);
$insertClientSth->bindParam('date_de_naissance', "1990-01-01");
$insertClientSth->bindParam('email', 'andrew.simon@gmail.com');
$insertClientSth->bindParam('telephone', '06 06 06 07 42');
$insertClientSth->execute();
```

Le principe est le même que pour la suppression d'un enregistrement, on crée le template, on prépare la requête, on lie les noms aux variables et on execute la requête qui va faire une insertion en base de données dans la table `client`


```php
$insertClientSth->bindParam('nom', 'Andrew');
```


Au lieu de bindParam chaque nom vous pouvez passer directement un tableau à la méthonde `execute`

```php
$insertClientSth->bindParam('nom', 'Andrew');
$insertClientSth->bindParam('prenom', 'Simon');
$insertClientSth->bindParam('genre', 1);
$insertClientSth->bindParam('date_de_naissance', "1990-01-01");
$insertClientSth->bindParam('email', 'andrew.simon@gmail.com');
$insertClientSth->bindParam('telephone', '06 06 06 07 42');
$insertClientSth->execute();
```

est équivalent à

```php
$insertClientSth->execute([
  'nom' => 'Andrew',
  'prenom' => 'Simon',
  'genre' => '1',
  'date_de_naissance' => '1990-01-01',
  'email' => 'andrew.simon@gmail.com',
  'telephon' => '06 06 07 42',
]);
```



## Les plus hors scope du cours
